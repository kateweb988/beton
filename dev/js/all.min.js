document.addEventListener("DOMContentLoaded", () => { class e { constructor(e, t) { let s = {}; this._config = Object.assign(s, t), this._elTabs = "string" == typeof e ? document.querySelector(e) : e, this._elButtons = this._elTabs.querySelectorAll(".tabs__btn"), this._elPanes = this._elTabs.querySelectorAll(".tabs__pane"), this._eventShow = new Event("tab.itc.change"), this._init(), this._events() } _init() { this._elTabs.setAttribute("role", "tablist"), this._elButtons.forEach((e, t) => { e.dataset.index = t, e.setAttribute("role", "tab"), this._elPanes[t].setAttribute("role", "tabpanel") }) } show(e) { let t = this._elPanes[e.dataset.index], s = this._elTabs.querySelector(".tabs__btn_active"), a = this._elTabs.querySelector(".tabs__pane_show"); e !== s && (s && s.classList.remove("tabs__btn_active"), a && a.classList.remove("tabs__pane_show"), e.classList.add("tabs__btn_active"), t.classList.add("tabs__pane_show"), this._elTabs.dispatchEvent(this._eventShow), e.focus()) } showByIndex(e) { let t = this._elButtons[e]; t && this.show(t) } _events() { this._elTabs.addEventListener("click", e => { let t = e.target.closest(".tabs__btn"); t && (e.preventDefault(), this.show(t)) }) } } new e(".tabs") }), window.addEventListener("DOMContentLoaded", function () { [].forEach.call(document.querySelectorAll(".tel"), function (e) { var t; function s(e) { e.keyCode && (t = e.keyCode), this.selectionStart < 3 && e.preventDefault(); var s = "+7 (___) ___ ____", a = 0, n = s.replace(/\D/g, ""), r = this.value.replace(/\D/g, ""), c = s.replace(/[_\d]/g, function (e) { return a < r.length ? r.charAt(a++) || n.charAt(a) : e }); -1 != (a = c.indexOf("_")) && (a < 5 && (a = 3), c = c.slice(0, a)); var l = s.substr(0, this.value.length).replace(/_+/g, function (e) { return "\\d{1," + e.length + "}" }).replace(/[+()]/g, "\\$&"); (!(l = RegExp("^" + l + "$")).test(this.value) || this.value.length < 5 || t > 47 && t < 58) && (this.value = c), "blur" == e.type && this.value.length < 5 && (this.value = "") } e.addEventListener("input", s, !1), e.addEventListener("focus", s, !1), e.addEventListener("blur", s, !1), e.addEventListener("keydown", s, !1) }) }), document.addEventListener("DOMContentLoaded", function () { var e, t = document.querySelectorAll("img.lazy"); function s() { e && clearTimeout(e), e = setTimeout(function () { var e = window.pageYOffset; t.forEach(function (t) { t.offsetTop < window.innerHeight + e && (t.src = t.dataset.src, t.classList.remove("lazy")) }), 0 == t.length && (document.removeEventListener("scroll", s), window.removeEventListener("resize", s), window.removeEventListener("orientationChange", s)) }, 20) } document.addEventListener("scroll", s), window.addEventListener("resize", s), window.addEventListener("orientationChange", s) }), document.addEventListener("DOMContentLoaded", () => { let e = document.querySelector(".menu-btn"), t = document.querySelector(".menu"); e.addEventListener("click", function () { e.classList.toggle("active"), t.classList.toggle("active") }) }), document.addEventListener("DOMContentLoaded", () => { var e = document.getElementsByClassName("dropdown"), t = document.getElementsByClassName("dropdownMenu"); for (i = 0; i < e.length; i++)e[i].onclick = function () { if (this.className.indexOf("active") > -1) for (j = 0; j < e.length; j++)r(e[j], "active"); else n(this, "active") }; for (i = 0; i < t.length; i++) { var s = t[i].children; for (j = 0; j < s.length; j++)s[j].onclick = function () { var e = this.innerHTML; this.parentNode.previousElementSibling.children[0].innerHTML = e, a(this.parentNode, "showMenu") } } function a(e, t) { var s = e.className; s.indexOf(t) > -1 ? e.className = s.replace(" " + t, "") : e.className = s + " " + t } function n(e, t) { var s = e.className; 1 > s.indexOf(t) && (e.className = s + " " + t) } function r(e, t) { var s = e.className; s.indexOf(t) > -1 && (e.className = s.replace(" " + t, "")) } window.addEventListener("click", function (t) { for (i = 0; i < e.length; i++)t.target != e[i].children[0] && r(e[i], "active") }) }), document.addEventListener("DOMContentLoaded", function () { new Swiper(".swiper1", { slidesPerView: 2, spaceBetween: 20, navigation: { prevEl: ".swiper-button-prev1", nextEl: ".swiper-button-next1" }, breakpoints: { 320: { spaceBetween: 0, slidesPerView: 1 }, 576: { spaceBetween: 10, slidesPerView: 1 }, 767: { spaceBetween: 20, slidesPerView: 1 }, 992: { spaceBetween: 20, slidesPerView: 2 }, 1200: { slidesPerView: 2, spaceBetween: 20 } } }) }), document.addEventListener("DOMContentLoaded", function () { new Swiper(".swiper2", { slidesPerView: 3, spaceBetween: 34, navigation: { prevEl: ".swiper-button-prev2", nextEl: ".swiper-button-next2" }, breakpoints: { 320: { spaceBetween: 0, slidesPerView: 1 }, 576: { spaceBetween: 20, slidesPerView: 2 }, 767: { spaceBetween: 20, slidesPerView: 2 }, 992: { spaceBetween: 20, slidesPerView: 2 }, 1200: { slidesPerView: 3, spaceBetween: 34 } } }) }), document.addEventListener("DOMContentLoaded", () => { let e = document.querySelector(".popup__bg"), t = document.querySelector(".popup"), s = document.querySelectorAll(".a1"), a = document.querySelector(".close-popup"); s.forEach(s => { s.addEventListener("click", s => { s.preventDefault(), e.classList.add("active"), t.classList.add("active") }) }), a.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), document.addEventListener("click", s => { s.target === e && (e.classList.remove("active"), t.classList.remove("active")) }), document.addEventListener("keydown", function (s) { "Escape" === s.key && (e.classList.remove("active"), t.classList.remove("active")) }) }), document.addEventListener("DOMContentLoaded", () => { let e = document.querySelector(".popup__bg2"), t = document.querySelector(".popup2"), s = document.querySelectorAll(".a2"), a = document.querySelector(".close-popup2"); s.forEach(s => { s.addEventListener("click", s => { s.preventDefault(), e.classList.add("active"), t.classList.add("active") }) }), a.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), document.addEventListener("click", s => { s.target === e && (e.classList.remove("active"), t.classList.remove("active")) }), document.addEventListener("keydown", function (s) { "Escape" === s.key && (e.classList.remove("active"), t.classList.remove("active")) }) }), document.addEventListener("DOMContentLoaded", () => { let e = document.querySelector(".popup__bg3"), t = document.querySelector(".popup3"), s = document.querySelectorAll(".a3"), a = document.querySelector(".close-popup3"), n = document.querySelector(".pop__btn_1"); s.forEach(s => { s.addEventListener("click", s => { s.preventDefault(), e.classList.add("active"), t.classList.add("active") }) }), a.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), n.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), document.addEventListener("click", s => { s.target === e && (e.classList.remove("active"), t.classList.remove("active")) }), document.addEventListener("keydown", function (s) { "Escape" === s.key && (e.classList.remove("active"), t.classList.remove("active")) }) }), document.addEventListener("DOMContentLoaded", () => { let e = document.querySelector(".popup__bg4"), t = document.querySelector(".popup4"), s = document.querySelectorAll(".a4"), a = document.querySelector(".close-popup4"), n = document.querySelector(".pop__btn_2"); s.forEach(s => { s.addEventListener("click", s => { s.preventDefault(), e.classList.add("active"), t.classList.add("active") }) }), a.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), n.addEventListener("click", () => { e.classList.remove("active"), t.classList.remove("active") }), document.addEventListener("click", s => { s.target === e && (e.classList.remove("active"), t.classList.remove("active")) }), document.addEventListener("keydown", function (s) { "Escape" === s.key && (e.classList.remove("active"), t.classList.remove("active")) }) }), document.addEventListener("DOMContentLoaded", () => { ymaps.ready(function () { new ymaps.Map("map", { center: [51.604463, 39.251976], zoom: 14, controls: ["zoomControl", "searchControl", "typeSelector", "fullscreenControl", "routeButtonControl"] }, { searchControlProvider: "yandex#search" }) }) }), document.addEventListener("DOMContentLoaded", () => { $(document).ready(function () { $("[data-submit]").on("click", function (e) { e.preventDefault(), $(this).parents("form").submit() }), $.validator.addMethod("regex", function (e, t, s) { var a = RegExp(s); return this.optional(t) || a.test(e) }, "Please check your input."), $(".js-form").each(function () { !function e(t) { t.validate({ rules: { tel: { required: !0, regex: "^([+]+)*[0-9 ()-]{5,20}$" }, name: { required: !0 } }, messages: { tel: { required: "Заполните поле", regex: "Телефон может содержать символы + - ()" }, name: { required: "Заполните поле" }, text: { required: "Заполните поле" }, check: { required: "Поставьте галочку" }, mail: { required: "Заполните поле", email: "Неверный формат E-mail" } }, submitHandler: function (e) { $("#loader").fadeIn(); var t = $(e); return "popupResult" === $(e).attr("id") && $.ajax({ type: "POST", url: t.attr("action"), data: t.serialize() }).always(function (e) { setTimeout(function () { $("#loader").fadeOut() }, 800), setTimeout(function () { $.arcticmodal("close"), $("#popup-thank").arcticmodal({}), t.trigger("reset") }, 1100) }), !1 } }) }($(this)) }), $("[data-scroll]").on("click", function () { $("html, body").animate({ scrollTop: $($.attr(this, "data-scroll")).offset().top }, 2e3), event.preventDefault() }) }) });